---
description: "リポジトリ用の AGENTS.md ファイルを生成するためのプロンプト"
mode: "agent"
---

# 高品質な AGENTS.md ファイルの作成

あなたはコードエージェントです。あなたのタスクは、https://agents.md/ の公式ガイダンスに従って、このリポジトリのルートに完全で正確な AGENTS.md を作成することです。

AGENTS.md は、コーディングエージェントがプロジェクトで効果的に作業するために必要なコンテキストと指示を提供するように設計されたオープンフォーマットです。

## AGENTS.md とは？

AGENTS.md は「エージェント向けのREADME」として機能するMarkdownファイルです - AI コーディングエージェントがあなたのプロジェクトで作業するのに役立つコンテキストと指示を提供する専用の予測可能な場所です。コーディングエージェントが必要とするが人間向けのREADMEには煩雑になる可能性のある詳細な技術コンテキストを含むことで、README.md を補完します。

## 主要原則

- **エージェント志向**: 自動化ツール向けの詳細な技術指示を含む
- **README.md を補完**: 人間向けドキュメントを置き換えるのではなく、エージェント固有のコンテキストを追加
- **標準化された場所**: リポジトリルート（またはモノレポのサブプロジェクトルート）に配置
- **オープンフォーマット**: 柔軟な構造を持つ標準Markdownを使用
- **エコシステム互換性**: 20以上の異なるAIコーディングツールとエージェントで動作

## ファイル構造とコンテンツガイドライン

### 1. 必須セットアップ

- リポジトリルートに `AGENTS.md` としてファイルを作成
- 標準Markdownフォーマットを使用
- 必須フィールドなし - プロジェクトのニーズに基づく柔軟な構造

### 2. 含めるべき必須セクション

#### プロジェクト概要

- プロジェクトが何をするかの簡潔な説明
- 複雑な場合はアーキテクチャ概要
- 使用されている主要技術とフレームワーク

#### セットアップコマンド

- インストール指示
- 環境セットアップ手順
- 依存関係管理コマンド
- 該当する場合のデータベースセットアップ

#### 開発ワークフロー

- 開発サーバーの起動方法
- ビルドコマンド
- ウォッチ/ホットリロードセットアップ
- パッケージマネージャー詳細（npm、pnpm、yarn など）

#### テスト指示

- テストの実行方法（ユニット、統合、e2e）
- テストファイルの場所と命名規約
- カバレッジ要件
- 使用されている特定のテストパターンまたはフレームワーク
- テストのサブセットまたは特定エリアへの焦点の実行方法

#### コードスタイルガイドライン

- 言語固有の規約
- リンティングとフォーマットルール
- ファイル構成パターン
- 命名規約
- インポート/エクスポートパターン

#### ビルドとデプロイメント

- ビルドコマンドと出力
- 環境設定
- デプロイメント手順と要件
- CI/CDパイプライン情報

### 3. オプションだが推奨されるセクション

#### セキュリティ考慮事項

- セキュリティテスト要件
- シークレット管理
- 認証パターン
- 権限モデル

#### モノレポ指示（該当する場合）

- 複数パッケージでの作業方法
- パッケージ間依存関係
- 選択的ビルド/テスト
- パッケージ固有のコマンド

#### プルリクエストガイドライン

- タイトルフォーマット要件
- 提出前の必須チェック
- レビュープロセス
- コミットメッセージ規約

#### デバッグとトラブルシューティング

- 一般的な問題と解決策
- ログパターン
- デバッグ設定
- パフォーマンス考慮事項

## テンプレート例

以下を開始テンプレートとして使用し、特定のプロジェクトに基づいてカスタマイズしてください：

```markdown
# AGENTS.md

## プロジェクト概要

[プロジェクトの簡潔な説明、その目的、主要技術]

## セットアップコマンド

- 依存関係のインストール: `[パッケージマネージャー] install`
- 開発サーバーの開始: `[コマンド]`
- 本番用ビルド: `[コマンド]`

## 開発ワークフロー

- [開発サーバー起動指示]
- [ホットリロード/ウォッチモード情報]
- [環境変数セットアップ]

## テスト指示

- 全テストの実行: `[コマンド]`
- ユニットテストの実行: `[コマンド]`
- 統合テストの実行: `[コマンド]`
- テストカバレッジ: `[コマンド]`
- [特定のテストパターンまたは要件]

## コードスタイル

- [言語とフレームワーク規約]
- [リンティングルールとコマンド]
- [フォーマット要件]
- [ファイル構成パターン]

## ビルドとデプロイメント

- [ビルドプロセス詳細]
- [出力ディレクトリ]
- [環境固有のビルド]
- [デプロイメントコマンド]

## プルリクエストガイドライン

- タイトルフォーマット: [コンポーネント] 簡潔な説明
- 必須チェック: `[lintコマンド]`、`[testコマンド]`
- [レビュー要件]

## 追加ノート

- [プロジェクト固有のコンテキスト]
- [一般的な注意点やトラブルシューティングのヒント]
- [パフォーマンス考慮事項]
```

## agents.md からの実例

agents.md ウェブサイトからの実例：

```markdown
# サンプル AGENTS.md ファイル

## 開発環境のヒント

- `ls` でスキャンする代わりに `pnpm dlx turbo run where <project_name>` を使用してパッケージにジャンプする。
- `pnpm install --filter <project_name>` を実行してパッケージをワークスペースに追加し、Vite、ESLint、TypeScript が認識できるようにする。
- `pnpm create vite@latest <project_name> -- --template react-ts` を使用して、TypeScriptチェックが準備された新しい React + Vite パッケージをスピンアップする。
- 正しい名前を確認するために各パッケージの package.json 内の name フィールドをチェックする—トップレベルのものはスキップする。

## テスト指示

- .github/workflows フォルダーで CI プランを見つける。
- `pnpm turbo run test --filter <project_name>` を実行して、そのパッケージで定義されたすべてのチェックを実行する。
- パッケージルートからは単に `pnpm test` を呼び出すことができる。マージする前にコミットはすべてのテストにパスする必要がある。
- 一つのステップに焦点を当てるには、Vitest パターンを追加する: `pnpm vitest run -t "<test name>"`。
- 全体のスイートが緑になるまでテストまたは型エラーを修正する。
- ファイルを移動またはインポートを変更した後、`pnpm lint --filter <project_name>` を実行してESLintとTypeScriptルールがまだパスすることを確認する。
- 誰も求めていなくても、変更したコードのテストを追加または更新する。

## PR 指示

- タイトルフォーマット: [<project_name>] <Title>
- コミット前に常に `pnpm lint` と `pnpm test` を実行する。
```

## 実装手順

1. **プロジェクト構造を分析**して理解する:

   - 使用されているプログラミング言語とフレームワーク
   - パッケージマネージャーとビルドツール
   - テストフレームワーク
   - プロジェクトアーキテクチャ（モノレポ、単一パッケージなど）

2. **主要ワークフローを特定**する調査:

   - package.json スクリプト
   - Makefile またはその他のビルドファイル
   - CI/CD 設定ファイル
   - ドキュメントファイル

3. **包括的なセクションを作成**する範囲:

   - すべての必須セットアップと開発コマンド
   - テスト戦略とコマンド
   - コードスタイルと規約
   - ビルドとデプロイメントプロセス

4. **エージェントが直接実行できる具体的で実用的なコマンド**を含める

5. **すべてのコマンドがドキュメントの通りに動作することを確認**して指示をテストする

6. **エージェントが知る必要があることに焦点を当てる**、一般的なプロジェクト情報ではなく

## ベストプラクティス

- **具体的であれ**: 曖昧な説明ではなく正確なコマンドを含める
- **コードブロックを使用**: 明確性のためにコマンドをバッククォートで囲む
- **コンテキストを含める**: 特定の手順が必要な理由を説明する
- **最新に保つ**: プロジェクトの進化に合わせて更新する
- **コマンドをテスト**: リストされたすべてのコマンドが実際に動作することを確認する
- **ネストファイルを考慮**: モノレポについては、必要に応じてサブプロジェクトに AGENTS.md ファイルを作成する

## モノレポの考慮事項

大規模モノレポについて:

- リポジトリルートにメイン AGENTS.md を配置
- サブプロジェクトディレクトリに追加の AGENTS.md ファイルを作成
- 任意の場所について最も近い AGENTS.md ファイルが優先される
- パッケージ/プロジェクト間のナビゲーションのヒントを含める

## 最終ノート

- AGENTS.md は Cursor、Aider、Gemini CLI など20以上のAIコーディングツールで動作
- フォーマットは意図的に柔軟 - あなたのプロジェクトのニーズに適応させる
- エージェントがあなたのコードベースを理解し、作業するのに役立つ実用的な指示に焦点を当てる
- これは生きているドキュメント - プロジェクトの進化に合わせて更新する

AGENTS.md ファイルを作成する際は、明確性、完全性、実用性を優先してください。目標は、追加の人間のガイダンスを必要とせずにプロジェクトに効果的に貢献するのに十分なコンテキストを任意のコーディングエージェントに提供することです。