---
mode: 'agent'
description: 'ジェネレーティブAI利用に最適化された、ソリューション用の新しい仕様ファイルを作成します。'
tools: ['changes', 'codebase', 'editFiles', 'extensions', 'fetch', 'githubRepo', 'openSimpleBrowser', 'problems', 'runTasks', 'search', 'searchResults', 'terminalLastCommand', 'terminalSelection', 'testFailure', 'usages', 'vscodeAPI']
---
# 仕様書作成

あなたのゴールは`${input:SpecPurpose}`の新しい仕様ファイルを作成することです。

仕様ファイルは、ジェネレーティブAIが効果的に使用できるよう、明確で曖昧さがなく、構造化された方法でソリューションコンポーネントの要件、制約、インターフェースを定義する必要があります。確立されたドキュメント標準に従い、コンテンツが機械読み取り可能で自己完結していることを確保してください。

## AI対応仕様のベストプラクティス

- 精確で明示的で曖昧さのない言語を使用する。
- 要件、制約、推奨事項を明確に区別する。
- 容易な解析のために構造化フォーマット（見出し、リスト、テーブル）を使用する。
- 慣用句、比喩、コンテキスト依存の参照を避ける。
- すべての頭文字語とドメイン固有の用語を定義する。
- 該当する場合は例とエッジケースを含める。
- ドキュメントが自己完結し、外部コンテキストに依存しないことを確保する。

仕様は[/spec/](/spec/)ディレクトリに保存し、以下の規約に従って名前を付ける必要があります：`spec-[a-z0-9-]+.md`、名前は仕様のコンテンツを説明的に表し、高レベルな目的で始まる必要があります。これは[schema、tool、data、infrastructure、process、architecture、またはdesign]のいずれかです。

仕様ファイルは適切にフォーマットされたMarkdownで書かれている必要があります。

仕様ファイルは以下のテンプレートに従い、すべてのセクションが適切に記入されていることを確保する必要があります。マークダウンのフロントマターは以下の例に従って正しく構造化される必要があります：

```md
---
title: [仕様の焦点を説明する簡潔なタイトル]
version: [オプション：例：1.0、日付]
date_created: [YYYY-MM-DD]
last_updated: [オプション：YYYY-MM-DD]
owner: [オプション：この仕様に責任を持つチーム/個人]
tags: [オプション：関連するタグまたはカテゴリのリスト、例：`infrastructure`、`process`、`design`、`app`など]
---

# 導入

[仕様と達成を意図するゴールについての短い簡潔な導入。]

## 1. 目的と範囲

[仕様の目的とその適用範囲の明確で簡潔な説明を提供する。対象読者と仮定事項を述べる。]

## 2. 定義

[この仕様で使用されるすべての頭文字語、略語、ドメイン固有の用語をリストアップし定義する。]

## 3. 要件、制約、ガイドライン

[すべての要件、制約、ルール、ガイドラインを明示的にリストする。明確さのために箇条書きまたはテーブルを使用する。]

- **REQ-001**: 要件1
- **SEC-001**: セキュリティ要件1
- **[3文字]-001**: その他の要件1
- **CON-001**: 制約1
- **GUD-001**: ガイドライン1
- **PAT-001**: 従うべきパターン1

## 4. インターフェースとデータ契約

[インターフェース、API、データ契約、または統合ポイントを説明する。スキーマと例についてはテーブルまたはコードブロックを使用する。]

## 5. 受け入れ基準

[適切な場合にGiven-When-Then形式を使用して、各要件に対する明確でテスト可能な受け入れ基準を定義する。]

- **AC-001**: Given [コンテキスト]、When [アクション]、Then [期待される結果]
- **AC-002**: システムは[条件]のときに[特定の動作]を行うものとする
- **AC-003**: [必要に応じて追加の受け入れ基準]

## 6. テスト自動化戦略

[テストアプローチ、フレームワーク、自動化要件を定義する。]

- **テストレベル**: ユニット、統合、エンドツーエンド
- **フレームワーク**: MSTest、FluentAssertions、Moq（.NETアプリケーション用）
- **テストデータ管理**: [テストデータ作成とクリーンアップのアプローチ]
- **CI/CD統合**: [GitHub Actionsパイプラインでの自動テスト]
- **カバレッジ要件**: [最低コードカバレッジしきい値]
- **パフォーマンステスト**: [負荷とパフォーマンステストのアプローチ]

## 7. 根拠とコンテキスト

[要件、制約、ガイドラインの背景にある推論を説明する。設計決定のコンテキストを提供する。]

## 8. 依存関係と外部統合

[この仕様に必要な外部システム、サービス、アーキテクチャ依存関係を定義する。**どのように**実装するかではなく、**何が**必要かに焦点を当てる。アーキテクチャ制約を表さない限り、特定のパッケージやライブラリバージョンを避ける。]

### 外部システム
- **EXT-001**: [外部システム名] - [目的と統合タイプ]

### サードパーティサービス
- **SVC-001**: [サービス名] - [必要な能力とSLA要件]

### インフラ依存関係
- **INF-001**: [インフラコンポーネント] - [要件と制約]

### データ依存関係
- **DAT-001**: [外部データソース] - [形式、頻度、アクセス要件]

### テクノロジープラットフォーム依存関係
- **PLT-001**: [プラットフォーム/ランタイム要件] - [バージョン制約と根拠]

### コンプライアンス依存関係
- **COM-001**: [規制またはコンプライアンス要件] - [実装への影響]

**注記**: このセクションは特定のパッケージ実装ではなく、アーキテクチャおよびビジネス依存関係に焦点を当てる必要があります。例えば、「Microsoft.AspNetCore.Authentication.JwtBearer v6.0.1」ではなく「OAuth 2.0認証ライブラリ」と指定してください。

## 9. 例とエッジケース

```code
// エッジケースを含む、ガイドラインの正しい適用を示すコードスニペットまたはデータ例
```

## 10. 検証基準

[この仕様への準拠のために満たす必要がある基準またはテストをリストする。]

## 11. 関連仕様 / 参考資料

[関連する仕様1へのリンク]
[関連する外部ドキュメントへのリンク]

```