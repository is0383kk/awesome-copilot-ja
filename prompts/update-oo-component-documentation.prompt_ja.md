---
mode: 'agent'
description: '業界のベストプラクティスとアーキテクチャドキュメント標準に従って、既存のオブジェクト指向コンポーネントドキュメントを更新します。'
tools: ['changes', 'codebase', 'editFiles', 'extensions', 'fetch', 'githubRepo', 'openSimpleBrowser', 'problems', 'runTasks', 'search', 'searchResults', 'terminalLastCommand', 'terminalSelection', 'testFailure', 'usages', 'vscodeAPI']
---
# 標準OOコンポーネントドキュメントの更新

`${file}` の既存のドキュメントファイルを、対応するコンポーネントコードを分析して更新してください。

既存のドキュメントのフロントマター（`component_path` フィールド）からコンポーネントパスを抽出するか、ドキュメントの内容から推測してください。現在のコンポーネント実装を分析し、それに応じてドキュメントを更新してください。

**ドキュメント標準:**

- DOC-001: C4 モデルドキュメントレベル（コンテキスト、コンテナ、コンポーネント、コード）に従う
- DOC-002: Arc42 ソフトウェアアーキテクチャドキュメントテンプレートと整合させる
- DOC-003: IEEE 1016 ソフトウェア設計記述標準に準拠する
- DOC-004: アジャイルドキュメントの原則（価値を付加する必要十分なドキュメント）を使用する
- DOC-005: 開発者と保守担当者を主要な対象読者とする

**分析指示:**

- ANA-001: 既存のドキュメントを読んでコンポーネントのコンテキストと構造を理解する
- ANA-002: フロントマターまたはコンテンツ分析からコンポーネントパスを特定する
- ANA-003: クラス構造と継承について現在のソースコードファイルを調査する
- ANA-004: 既存のドキュメントと現在の実装を比較する
- ANA-005: デザインパターンとアーキテクチャの変更を特定する
- ANA-006: パブリックAPI、インターフェース、依存関係を更新する
- ANA-007: 新規/変更された生成的/構造的/行動的パターンを認識する
- ANA-008: メソッドパラメータ、戻り値、例外を更新する
- ANA-009: パフォーマンス、セキュリティ、信頼性、保守性を再評価する
- ANA-010: 統合パターンとデータフローを更新する

**言語固有の最適化:**

- LNG-001: **C#/.NET** - async/await、依存性注入、設定、リソース解放
- LNG-002: **Java** - Springフレームワーク、アノテーション、例外処理、パッケージング
- LNG-003: **TypeScript/JavaScript** - モジュール、非同期パターン、型、npm
- LNG-004: **Python** - パッケージ、仮想環境、型ヒント、テスト

**更新戦略:**

- UPD-001: 既存のドキュメント構造とフォーマットを保持する
- UPD-002: `last_updated` フィールドを現在の日付に更新する
- UPD-003: フロントマターにある場合はバージョン履歴を維持する
- UPD-004: コンポーネントが大幅に拡張された場合は新しいセクションを追加する
- UPD-005: 非推奨の機能や破壊的変更をマークする
- UPD-006: 現在のAPIを反映するように例を更新する
- UPD-007: 依存関係リストとバージョンを更新する
- UPD-008: mermaid図を現在のアーキテクチャに反映するように更新する

**エラーハンドリング:**

- ERR-001: ドキュメントファイルが存在しない - ファイルの場所についてガイダンスを提供する
- ERR-002: ドキュメントでコンポーネントパスが見つからない - 明確化を求める
- ERR-003: ソースコードが移動している - 更新されたパスを提案する
- ERR-004: 大きなアーキテクチャ変更 - 破壊的変更をハイライトする
- ERR-005: ソースへのアクセスが不十分 - 制限を文書化する

**出力形式:**

構造を維持しながら現在の実装と一致するようにコンテンツを更新し、既存のMarkdownファイルを更新してください。フォーマット、見出し階層、既存の組織的決定を保持してください。

**必須のドキュメント構造:**

すべてのセクションが現在の実装を反映するように、同じテンプレート構造に従って既存のドキュメントを更新してください：

```md
---
title: [コンポーネント名] - 技術ドキュメント
component_path: [現在のコンポーネントパス]
version: [該当する場合は更新されたバージョン]
date_created: [元の作成日 - 保持]
last_updated: [YYYY-MM-DD - 現在の日付に更新]
owner: [既存を保持または変更された場合は更新]
tags: [現在の機能に基づいて必要に応じてタグを更新]
---

# [コンポーネント名] ドキュメント

[現在のコンポーネントの目的と機能を反映するように導入部を更新]

## 1. コンポーネント概要

### 目的/責任
- OVR-001: コンポーネントの主要な責任を更新する
- OVR-002: スコープ（含まれる/除外される機能）を更新する
- OVR-003: システムコンテキストと関係を更新する

## 2. アーキテクチャセクション

- ARC-001: 使用されるデザインパターン（Repository、Factory、Observer等）を更新する
- ARC-002: 内部および外部の依存関係を現在の目的と共に更新する
- ARC-003: コンポーネントの相互作用と関係を更新する
- ARC-004: 視覚的図（UMLクラス、シーケンス、コンポーネント）を更新する
- ARC-005: 現在のコンポーネント構造、関係、依存関係を示すmermaid図を更新する

### コンポーネント構造と依存関係図

現在の以下を示すようにmermaid図を更新する：
- **コンポーネント構造** - 現在のクラス、インターフェース、それらの関係
- **内部依存関係** - システム内でコンポーネントが現在どのように相互作用するか
- **外部依存関係** - 現在の外部ライブラリ、サービス、データベース、API
- **データフロー** - 現在の依存関係と相互作用の方向
- **継承/合成** - 現在のクラス階層と合成関係

```mermaid
[現在のアーキテクチャを反映するように図を更新]
```

## 3. インターフェースドキュメント

- INT-001: すべてのパブリックインターフェースと現在の使用パターンを更新する
- INT-002: 現在のAPIでメソッド/プロパティリファレンステーブルを更新する
- INT-003: イベント/コールバック/通知メカニズムを更新する

| メソッド/プロパティ | 目的 | パラメータ | 戻り値の型 | 使用上の注意 |
|-----------------|---------|------------|-------------|-------------|
| [現在のAPIでテーブルを更新] | | | | |

## 4. 実装詳細

- IMP-001: 主要な実装クラスと現在の責任を更新する
- IMP-002: 設定要件と初期化パターンを更新する
- IMP-003: 主要なアルゴリズムとビジネスロジックを更新する
- IMP-004: パフォーマンス特性とボトルネックを更新する

## 5. 使用例

### 基本的な使用法

```csharp
// 現在のAPIに合わせて基本使用例を更新
```

### 高度な使用法

```csharp
// 現在の実装に合わせて高度な設定パターンを更新
```

- USE-001: 基本的な使用例を更新する
- USE-002: 高度な設定パターンを更新する
- USE-003: ベストプラクティスと推奨パターンを更新する

## 6. 品質属性

- QUA-001: セキュリティ（認証、認可、データ保護）を更新する
- QUA-002: パフォーマンス（特性、スケーラビリティ、リソース使用量）を更新する
- QUA-003: 信頼性（エラー処理、フォルトトレラント、復旧）を更新する
- QUA-004: 保守性（標準、テスト、ドキュメント）を更新する
- QUA-005: 拡張性（拡張ポイント、カスタマイズオプション）を更新する

## 7. 参考情報

- REF-001: 現在のバージョンと目的で依存関係を更新する
- REF-002: 設定オプション参照を更新する
- REF-003: テストガイドラインとモックセットアップを更新する
- REF-004: トラブルシューティング（一般的な問題、エラーメッセージ）を更新する
- REF-005: 関連ドキュメントリンクを更新する
- REF-006: この更新の変更履歴と移行ノートを追加する

```